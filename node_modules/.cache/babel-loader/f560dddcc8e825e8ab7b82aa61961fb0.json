{"ast":null,"code":"var _jsxFileName = \"/media/dudapantera/OS/DUDA/Programa\\xE7\\xE3o/Cubos Academy Desenvolvimento FullStack/FRONT-END/Desafio 4 - FRONTEND/front-integral-m05-desafio-t05/src/components/Lists/ClientsListItems/index.jsx\",\n    _s = $RefreshSig$();\n\nimport './style.css';\nimport { useState, useEffect } from 'react';\nimport { toast } from 'react-toastify';\nimport { useNavigate } from 'react-router-dom';\nimport { listClientsService } from '../../../services/clientService';\nimport { getItem } from '../../../utils/Storage';\nimport useUser from \"../../../hooks/useUser\";\nimport { phoneMask, cpfMask } from \"../../../utils/Mask\";\nimport ArrowsOrganizeIcon from '../../../assets/arrowclients.svg';\nimport NewDebtIcon from '../../../assets/new-debt.svg';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ClientsListItems() {\n  _s();\n\n  const {\n    setCurrentClient,\n    openModalClient,\n    setOpenSnackbar,\n    setOpenModalCreateDebt\n  } = useUser();\n  const [clientsList, setClientsList] = useState([]);\n  const navigate = useNavigate();\n  const token = getItem('token');\n  useEffect(() => {\n    if (!token) {\n      navigate('/login');\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, []);\n  useEffect(() => {\n    loadClients();\n    setOpenSnackbar(false); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [openModalClient]);\n\n  function handleClientDetail(id) {\n    navigate(`/clients/detail/${id}`);\n  }\n\n  async function loadClients() {\n    try {\n      const {\n        data,\n        ok\n      } = await listClientsService(token);\n\n      if (!ok) {\n        return toast.warning(data);\n      }\n\n      setClientsList(data);\n    } catch (error) {\n      return toast.error(error.message);\n    }\n  }\n\n  function handleModalCreateDebt(id, clientName) {\n    setCurrentClient({\n      id: id,\n      name: clientName\n    });\n    setOpenModalCreateDebt(true);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"article\", {\n    className: \"ClientsListItems\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"IndexClientsList\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: ArrowsOrganizeIcon,\n          alt: \"Organizador atrav\\xE9s do nome do cliente\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Cliente\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"CPF\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"E-mail\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Telefone\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Status\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Criar Cobran\\xE7a\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), clientsList.map(eachClient => /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"EachClient\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"ClientName\",\n        onClick: () => handleClientDetail(eachClient.id),\n        children: eachClient.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"ClientCPF\",\n        onClick: () => handleClientDetail(eachClient.id),\n        children: eachClient.cpf && cpfMask(eachClient.cpf)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"ClientEmail\",\n        onClick: () => handleClientDetail(eachClient.id),\n        children: eachClient.email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"ClientPhone\",\n        onClick: () => handleClientDetail(eachClient.id),\n        children: eachClient.phone && phoneMask(eachClient.phone)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: eachClient.status === 'Em dia' ? 'ClientStatus Ok' : 'ClientStatus Owe',\n        onClick: () => handleClientDetail(eachClient.id),\n        children: eachClient.status\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"CreateDebt\",\n        onClick: () => handleModalCreateDebt(eachClient.id, eachClient.name),\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: NewDebtIcon,\n          alt: \"Icone indicando a possibilidade de criar uma cobran\\xE7a\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"Debt\",\n          children: \"Cobran\\xE7a\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 11\n      }, this)]\n    }, eachClient.cpf, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ClientsListItems, \"ZQMbAb/UGdhkzzvElyg6CjmQVU0=\", false, function () {\n  return [useUser, useNavigate];\n});\n\n_c = ClientsListItems;\nexport default ClientsListItems;\n\nvar _c;\n\n$RefreshReg$(_c, \"ClientsListItems\");","map":{"version":3,"names":["useState","useEffect","toast","useNavigate","listClientsService","getItem","useUser","phoneMask","cpfMask","ArrowsOrganizeIcon","NewDebtIcon","ClientsListItems","setCurrentClient","openModalClient","setOpenSnackbar","setOpenModalCreateDebt","clientsList","setClientsList","navigate","token","loadClients","handleClientDetail","id","data","ok","warning","error","message","handleModalCreateDebt","clientName","name","map","eachClient","cpf","email","phone","status"],"sources":["/media/dudapantera/OS/DUDA/Programação/Cubos Academy Desenvolvimento FullStack/FRONT-END/Desafio 4 - FRONTEND/front-integral-m05-desafio-t05/src/components/Lists/ClientsListItems/index.jsx"],"sourcesContent":["import './style.css'\nimport { useState, useEffect } from 'react';\nimport { toast } from 'react-toastify';\nimport { useNavigate } from 'react-router-dom';\n\nimport { listClientsService } from '../../../services/clientService';\nimport { getItem } from '../../../utils/Storage';\nimport useUser from \"../../../hooks/useUser\"\nimport { phoneMask, cpfMask } from \"../../../utils/Mask\"\n\nimport ArrowsOrganizeIcon from '../../../assets/arrowclients.svg';\nimport NewDebtIcon from '../../../assets/new-debt.svg';\n\n\nfunction ClientsListItems() {\n  const { setCurrentClient, openModalClient, setOpenSnackbar, setOpenModalCreateDebt } = useUser()\n\n  const [clientsList, setClientsList] = useState([]);\n\n  const navigate = useNavigate();\n  const token = getItem('token');\n\n  useEffect(()=> {\n    if (!token) {\n      navigate('/login');\n    }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    loadClients();\n    setOpenSnackbar(false);\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [openModalClient])\n\n  function handleClientDetail(id) {\n    navigate(`/clients/detail/${id}`);\n  }\n\n  async function loadClients() {\n    try {\n      const { data, ok } = await listClientsService(token);\n      if (!ok) {\n        return toast.warning(data);\n      }\n\n      setClientsList(data);\n    } catch (error) {\n      return toast.error(error.message);\n    }\n  }\n\n  function handleModalCreateDebt(id, clientName) {\n    setCurrentClient({ id: id, name: clientName })\n    setOpenModalCreateDebt(true)\n  }\n\n  return (\n    <article className='ClientsListItems'>\n      <header className='IndexClientsList'>\n        <div>\n          <img\n            src={ArrowsOrganizeIcon}\n            alt=\"Organizador através do nome do cliente\"\n          />\n          <span>Cliente</span>\n        </div>\n        <span>CPF</span>\n        <span>E-mail</span>\n        <span>Telefone</span>\n        <span>Status</span>\n        <span>Criar Cobrança</span>\n      </header>\n      {clientsList.map((eachClient) => (\n        <section\n          className='EachClient'\n          key={eachClient.cpf}\n        >\n          <span className='ClientName'\n            onClick={() => handleClientDetail(eachClient.id)}\n          >{eachClient.name}</span>\n          <span className='ClientCPF'\n            onClick={() => handleClientDetail(eachClient.id)}\n          >{eachClient.cpf && cpfMask(eachClient.cpf)}</span>\n          <span className='ClientEmail'\n            onClick={() => handleClientDetail(eachClient.id)}\n          >{eachClient.email}</span>\n          <span className='ClientPhone'\n            onClick={() => handleClientDetail(eachClient.id)}\n          >{eachClient.phone && phoneMask(eachClient.phone)}</span>\n          <span\n            className={eachClient.status === 'Em dia' ?\n              'ClientStatus Ok' : 'ClientStatus Owe'}\n            onClick={() => handleClientDetail(eachClient.id)}\n          >\n            {eachClient.status}\n          </span>\n          <button\n            className='CreateDebt'\n            onClick={() => handleModalCreateDebt(eachClient.id, eachClient.name)}\n          >\n            <img\n              src={NewDebtIcon}\n              alt=\"Icone indicando a possibilidade de criar uma cobrança\"\n            />\n            <span className='Debt'>Cobrança</span>\n          </button>\n        </section>\n      ))}\n    </article>\n  )\n}\n\nexport default ClientsListItems;"],"mappings":"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"},"metadata":{},"sourceType":"module"}